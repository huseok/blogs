(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{490:function(a,s,t){"use strict";t.r(s);var e=t(3),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"记录一些常用的adb命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#记录一些常用的adb命令"}},[a._v("#")]),a._v(" 记录一些常用的adb命令")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("adb工具在 SDK platform-tools中, 命令来源为\\system\\core\\toolbox、\\frameworks\\base\\cmds\n")])])]),s("h3",{attrs:{id:"一、基础准备与设备连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、基础准备与设备连接"}},[a._v("#")]),a._v(" 一、基础准备与设备连接")]),a._v(" "),s("h4",{attrs:{id:"_1-检查-adb-是否生效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-检查-adb-是否生效"}},[a._v("#")]),a._v(" 1. 检查 ADB 是否生效")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb version  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看 ADB 版本（验证环境配置成功）")]),a._v("\nadb devices  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出已连接的设备/模拟器（核心命令）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出格式：设备ID + 状态（device=已连接，offline=离线，unauthorized=未授权）")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-设备授权与连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-设备授权与连接"}},[a._v("#")]),a._v(" 2. 设备授权与连接")]),a._v(" "),s("ul",[s("li",[a._v("首次连接设备：开启手机「开发者选项」→ 启用「USB 调试」，连接电脑后在手机上确认授权。")]),a._v(" "),s("li",[a._v("无线连接（无需数据线）："),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb tcpip "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5555")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 让设备监听 5555 端口（需先通过USB连接一次）")]),a._v("\nadb connect "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.100:5555  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 替换为设备IP（手机WiFi与电脑同网段）")]),a._v("\nadb disconnect "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.100:5555  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 断开无线连接")]),a._v("\n")])])])])]),a._v(" "),s("h4",{attrs:{id:"_3-多设备-模拟器切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-多设备-模拟器切换"}},[a._v("#")]),a._v(" 3. 多设备/模拟器切换")]),a._v(" "),s("p",[a._v("如果连接多个设备，命令前需加 "),s("code",[a._v("-s 设备ID")]),a._v(" 指定目标：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123456")]),a._v(" devices  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅查看设备123456的状态")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" emulator-5554 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" app.apk  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 给模拟器5554安装APP（-r覆盖安装）")]),a._v("\n")])])]),s("h3",{attrs:{id:"二、文件传输-设备-↔-电脑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、文件传输-设备-↔-电脑"}},[a._v("#")]),a._v(" 二、文件传输（设备 ↔ 电脑）")]),a._v(" "),s("h4",{attrs:{id:"_1-电脑-→-设备-推送文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-电脑-→-设备-推送文件"}},[a._v("#")]),a._v(" 1. 电脑 → 设备（推送文件）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb push 本地文件路径 设备路径\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 示例：")]),a._v("\nadb push D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("test.txt /sdcard/  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 推送本地文件到设备存储卡根目录")]),a._v("\nadb push D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("app.apk /data/local/tmp/  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 推送APK到设备临时目录")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-设备-→-电脑-拉取文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-设备-→-电脑-拉取文件"}},[a._v("#")]),a._v(" 2. 设备 → 电脑（拉取文件）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb pull 设备文件路径 本地保存路径\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 示例：")]),a._v("\nadb pull /sdcard/DCIM/Camera/1.jpg D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Pictures"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取设备照片到电脑")]),a._v("\nadb pull /data/data/com.example.app/logs/ D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("logs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取APP日志目录（需root）")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("注意：访问 "),s("code",[a._v("/data/data/")]),a._v(" 等系统目录需设备 "),s("strong",[a._v("root")]),a._v("，否则会提示权限不足。")])]),a._v(" "),s("h3",{attrs:{id:"三、应用管理-安装-卸载-启动-停止"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、应用管理-安装-卸载-启动-停止"}},[a._v("#")]),a._v(" 三、应用管理（安装/卸载/启动/停止）")]),a._v(" "),s("h4",{attrs:{id:"_1-安装-apk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-apk"}},[a._v("#")]),a._v(" 1. 安装 APK")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" 本地APK路径  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 普通安装")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" 本地APK路径  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 覆盖安装（保留数据）")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 本地APK路径  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装到SD卡（仅支持部分APP）")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" 本地APK路径  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许降级安装（低版本覆盖高版本）")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-卸载应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-卸载应用"}},[a._v("#")]),a._v(" 2. 卸载应用")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb uninstall 应用包名  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 彻底卸载（删除数据）")]),a._v("\nadb uninstall "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v(" 应用包名  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 保留数据卸载（仅删除APK）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 示例：卸载微信（包名com.tencent.mm）")]),a._v("\nadb uninstall com.tencent.mm\n")])])]),s("h4",{attrs:{id:"_3-查看已安装应用包名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看已安装应用包名"}},[a._v("#")]),a._v(" 3. 查看已安装应用包名")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell pm list packages  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出所有应用包名（系统+第三方）")]),a._v("\nadb shell pm list packages "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-3")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅列出第三方应用（常用）")]),a._v("\nadb shell pm list packages "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" tencent  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# 过滤包含"tencent"的应用（需Windows PowerShell或Linux/Mac终端）')]),a._v("\n")])])]),s("h4",{attrs:{id:"_4-启动-停止应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动-停止应用"}},[a._v("#")]),a._v(" 4. 启动/停止应用")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动应用（需知道应用的启动Activity，可通过aapt工具获取）")]),a._v("\nadb shell am start "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" 应用包名/启动Activity\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 示例：启动微信主页面")]),a._v("\nadb shell am start "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" com.tencent.mm/com.tencent.mm.ui.LauncherUI\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 强制停止应用（类似手动划掉后台）")]),a._v("\nadb shell am force-stop 应用包名\nadb shell am force-stop com.tencent.mm  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 停止微信")]),a._v("\n")])])]),s("h3",{attrs:{id:"四、设备控制与系统操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、设备控制与系统操作"}},[a._v("#")]),a._v(" 四、设备控制与系统操作")]),a._v(" "),s("h4",{attrs:{id:"_1-重启设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-重启设备"}},[a._v("#")]),a._v(" 1. 重启设备")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 正常重启")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v(" recovery  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启进入Recovery模式")]),a._v("\nadb "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v(" bootloader  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启进入Fastboot模式（刷机常用）")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-屏幕操作-模拟用户输入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-屏幕操作-模拟用户输入"}},[a._v("#")]),a._v(" 2. 屏幕操作（模拟用户输入）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell input tap "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("500")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 点击屏幕坐标(500,1000)（需知道屏幕分辨率）")]),a._v("\nadb shell input swipe "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1500")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("500")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从(300,1500)滑动到(300,500)，耗时1000ms（下拉通知栏）")]),a._v("\nadb shell input text "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"hello"')]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入文本（不支持特殊字符，需转义）")]),a._v("\nadb shell input keyevent "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 按下Home键（keyevent对应按键码，3=Home，4=返回，26=电源）")]),a._v("\n")])])]),s("h4",{attrs:{id:"_3-查看设备信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看设备信息"}},[a._v("#")]),a._v(" 3. 查看设备信息")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell getprop ro.product.model  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看设备型号（如Xiaomi 13）")]),a._v("\nadb shell getprop ro.build.version.release  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看Android系统版本（如14）")]),a._v("\nadb shell wm size  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看屏幕分辨率（如1080x2400）")]),a._v("\nadb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看设备存储占用")]),a._v("\n")])])]),s("h4",{attrs:{id:"_4-清除应用数据-缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-清除应用数据-缓存"}},[a._v("#")]),a._v(" 4. 清除应用数据/缓存")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell pm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),a._v(" 应用包名  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清除应用所有数据（等同于「设置→应用→清除数据」）")]),a._v("\nadb shell pm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),a._v(" com.tencent.mm  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清除微信数据（需重新登录）")]),a._v("\n")])])]),s("h3",{attrs:{id:"五、调试与日志查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、调试与日志查看"}},[a._v("#")]),a._v(" 五、调试与日志查看")]),a._v(" "),s("h4",{attrs:{id:"_1-查看实时日志-核心调试命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看实时日志-核心调试命令"}},[a._v("#")]),a._v(" 1. 查看实时日志（核心调试命令）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb logcat  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出所有日志（刷屏快，不推荐直接用）")]),a._v("\nadb logcat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" TAG名称  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 过滤指定TAG的日志（如只看APP的自定义日志）")]),a._v("\nadb logcat *:E  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 只显示错误级别（Error）日志")]),a._v("\nadb logcat "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("log.txt  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 保存日志到电脑本地文件")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-查看进程信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看进程信息"}},[a._v("#")]),a._v(" 2. 查看进程信息")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出所有运行中的进程")]),a._v("\nadb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 应用包名  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看指定APP的进程状态（如微信）")]),a._v("\nadb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" com.tencent.mm\n")])])]),s("h4",{attrs:{id:"_3-查看cpu-内存占用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看cpu-内存占用"}},[a._v("#")]),a._v(" 3. 查看CPU/内存占用")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("top")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 实时查看系统资源占用（类似电脑任务管理器）")]),a._v("\nadb shell "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("top")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 应用包名  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看一次指定APP的CPU/内存占用")]),a._v("\n")])])]),s("h4",{attrs:{id:"_4-获取anr文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-获取anr文件"}},[a._v("#")]),a._v(" 4. 获取anr文件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb pull /data/anr  D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 生成报告并保存到电脑本地（格式为 zip 压缩包）")]),a._v("\nadb bugreport D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("android_bugreport.zip\n")])])]),s("h3",{attrs:{id:"六、高级功能-需root-特殊权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、高级功能-需root-特殊权限"}},[a._v("#")]),a._v(" 六、高级功能（需Root/特殊权限）")]),a._v(" "),s("h4",{attrs:{id:"_1-进入设备shell-直接操作设备系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-进入设备shell-直接操作设备系统"}},[a._v("#")]),a._v(" 1. 进入设备Shell（直接操作设备系统）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入普通Shell（权限有限）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 切换到root用户（需设备已Root，命令行前缀变为#）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 退出Shell")]),a._v("\n")])])]),s("h4",{attrs:{id:"_2-挂载系统分区为可写-修改系统文件用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-挂载系统分区为可写-修改系统文件用"}},[a._v("#")]),a._v(" 2. 挂载系统分区为可写（修改系统文件用）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb root  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 以root权限重启ADB（需设备Root）")]),a._v("\nadb remount  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 挂载/system分区为可写（默认只读）")]),a._v("\n")])])]),s("h4",{attrs:{id:"_3-备份-恢复应用数据-需root"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-备份-恢复应用数据-需root"}},[a._v("#")]),a._v(" 3. 备份/恢复应用数据（需Root）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 备份应用数据到设备（.ab格式）")]),a._v("\nadb backup "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-noapk")]),a._v(" 应用包名 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" /sdcard/backup.ab\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从电脑恢复备份")]),a._v("\nadb restore D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("backup.ab\n")])])]),s("h3",{attrs:{id:"常用辅助工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用辅助工具"}},[a._v("#")]),a._v(" 常用辅助工具")]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("获取应用包名/启动Activity")]),a._v("：\n"),s("ol",[s("li",[a._v("安装APK后执行："),s("code",[a._v("adb shell dumpsys window | grep mCurrentFocus")]),a._v("（当前前台APP的包名+Activity）")]),a._v(" "),s("li",[a._v("用 "),s("code",[a._v("aapt dump badging 本地APK路径")]),a._v("（需配置aapt环境，输出中找 "),s("code",[a._v("package: name=")]),a._v(" 和 "),s("code",[a._v("launchable-activity: name=")]),a._v("）")])])]),a._v(" "),s("li",[s("strong",[a._v("屏幕截图/录屏")]),a._v("："),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("adb shell screencap /sdcard/screenshot.png  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 截图保存到设备")]),a._v("\nadb pull /sdcard/screenshot.png D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取截图到电脑")]),a._v("\nadb shell screenrecord /sdcard/record.mp4  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 录屏（按Ctrl+C停止，默认180秒）")]),a._v("\n")])])])])]),a._v(" "),s("h3",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),s("ol",[s("li",[a._v("执行命令前需确保设备已连接（"),s("code",[a._v("adb devices")]),a._v(" 能看到设备，状态为 "),s("code",[a._v("device")]),a._v("）。")]),a._v(" "),s("li",[a._v("部分命令（如访问系统目录、清除系统应用数据）需设备 "),s("strong",[a._v("Root")]),a._v("，否则会提示 "),s("code",[a._v("permission denied")]),a._v("。")]),a._v(" "),s("li",[a._v("无线连接时，设备与电脑需在同一WiFi，且设备IP可通过「设置→WLAN→已连接WiFi→详情」查看。")])])])}),[],!1,null,null,null);s.default=r.exports}}]);