(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{491:function(t,e,r){"use strict";r.r(e);var a=r(3),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"perfetto"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#perfetto"}},[t._v("#")]),t._v(" Perfetto")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://ui.perfetto.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Perfetto UI在线可视化工具"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("adb push C:\\Users\\seok\\Desktop\\perfetto.pbtx /data/local/tmp/perfetto.pbtxt"),e("br"),t._v("\nadb shell 'cat /data/local/tmp/perfetto.pbtxt | perfetto --txt -c - -o /data/misc/perfetto-traces/trace'"),e("br"),t._v("\nadb shell 'perfetto --attach=perf_debug --stop'"),e("br"),t._v("\nadb pull /data/misc/perfetto-traces/trace f://adb")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("//1. 首先执行命令\nadb shell perfetto -o /data/misc/perfetto-traces/trace_file.perfetto-trace -t 20s \\ sched freq idle am wm gfx view binder_driver hal dalvik camera input res memory\n\n// 2. 操作手机，复现场景，比如滑动或者启动等\n\n// 3. 将 trace 文件 pull 到本地\nadb pull /data/misc/perfetto-traces/trace_file.perfetto-trace\n")])])]),e("p",[t._v("或者web或者手机上直接操作")]),t._v(" "),e("p",[t._v("配置文件可在网站生成")]),t._v(" "),e("h2",{attrs:{id:"常用关键词"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用关键词"}},[t._v("#")]),t._v(" 常用关键词")]),t._v(" "),e("p",[t._v("deliverinput 看input事件，\ntransition看窗口变换，\nfocusedapp看当前焦点应用，\nanimator看动画，\nvysnc-app看应用垂直刷新的信号。看是否卡顿，看帧的绘制主线程是否超过了16ms，RenderThread是否超时。\n看SurfaceFlinger的帧绘制是否连续。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.androidperformance.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细学习地址"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);