<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android 日志相关 | HZ BLOG</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blogs/favicon.ico">
    <meta name="description" content="记录一些日志相关信息。">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.593f90fc.css" as="style"><link rel="preload" href="/blogs/assets/js/app.f7ee3a0f.js" as="script"><link rel="preload" href="/blogs/assets/js/7.1cee44e5.js" as="script"><link rel="preload" href="/blogs/assets/js/2.c6a51781.js" as="script"><link rel="preload" href="/blogs/assets/js/1.72bf0bc0.js" as="script"><link rel="preload" href="/blogs/assets/js/45.6bc3e5e4.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.f023290e.js"><link rel="prefetch" href="/blogs/assets/js/11.cc887646.js"><link rel="prefetch" href="/blogs/assets/js/14.3cd6dabc.js"><link rel="prefetch" href="/blogs/assets/js/15.19ff40c3.js"><link rel="prefetch" href="/blogs/assets/js/16.36891570.js"><link rel="prefetch" href="/blogs/assets/js/17.716cfd6e.js"><link rel="prefetch" href="/blogs/assets/js/18.39ca04e2.js"><link rel="prefetch" href="/blogs/assets/js/19.3dbfe40f.js"><link rel="prefetch" href="/blogs/assets/js/20.d3401ea4.js"><link rel="prefetch" href="/blogs/assets/js/21.61a3f302.js"><link rel="prefetch" href="/blogs/assets/js/22.77f6fc7b.js"><link rel="prefetch" href="/blogs/assets/js/23.6c9b4c97.js"><link rel="prefetch" href="/blogs/assets/js/24.89c7e42e.js"><link rel="prefetch" href="/blogs/assets/js/25.b6345202.js"><link rel="prefetch" href="/blogs/assets/js/26.b2d84ceb.js"><link rel="prefetch" href="/blogs/assets/js/27.af5fc6db.js"><link rel="prefetch" href="/blogs/assets/js/28.16433ce2.js"><link rel="prefetch" href="/blogs/assets/js/29.ca0e0baf.js"><link rel="prefetch" href="/blogs/assets/js/3.e5ee5542.js"><link rel="prefetch" href="/blogs/assets/js/30.d9c21530.js"><link rel="prefetch" href="/blogs/assets/js/31.ed3be54f.js"><link rel="prefetch" href="/blogs/assets/js/32.db95b0cf.js"><link rel="prefetch" href="/blogs/assets/js/33.6dd8bdbb.js"><link rel="prefetch" href="/blogs/assets/js/34.adc43df4.js"><link rel="prefetch" href="/blogs/assets/js/35.ffe5af3a.js"><link rel="prefetch" href="/blogs/assets/js/36.4182eee5.js"><link rel="prefetch" href="/blogs/assets/js/37.d4d6995f.js"><link rel="prefetch" href="/blogs/assets/js/38.0ee01a96.js"><link rel="prefetch" href="/blogs/assets/js/39.3854c08d.js"><link rel="prefetch" href="/blogs/assets/js/4.31b240cc.js"><link rel="prefetch" href="/blogs/assets/js/40.204ab293.js"><link rel="prefetch" href="/blogs/assets/js/41.8fbaf655.js"><link rel="prefetch" href="/blogs/assets/js/42.1e110cc6.js"><link rel="prefetch" href="/blogs/assets/js/43.f3429381.js"><link rel="prefetch" href="/blogs/assets/js/44.01061a74.js"><link rel="prefetch" href="/blogs/assets/js/46.a8f93001.js"><link rel="prefetch" href="/blogs/assets/js/47.cd1a11f5.js"><link rel="prefetch" href="/blogs/assets/js/48.0af1db68.js"><link rel="prefetch" href="/blogs/assets/js/49.0a5c1de1.js"><link rel="prefetch" href="/blogs/assets/js/5.854f27f6.js"><link rel="prefetch" href="/blogs/assets/js/6.3ada963c.js"><link rel="prefetch" href="/blogs/assets/js/8.7303aede.js"><link rel="prefetch" href="/blogs/assets/js/9.0c120f88.js"><link rel="prefetch" href="/blogs/assets/js/vendors~docsearch.e2810cce.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.593f90fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>HZ BLOG</h3> <p class="description" data-v-59e6cb88>学习笔记，记录生活</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>hz</span>
          
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/avatar.jpg" alt="HZ BLOG" class="logo"> <span class="site-name">HZ BLOG</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      android 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/android/" class="nav-link"><i class="undefined"></i>
  android
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/源码分析/" class="nav-link"><i class="undefined"></i>
  源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/tool/" class="nav-link"><i class="undefined"></i>
  tool
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/systrace/" class="nav-link"><i class="undefined"></i>
  systrace
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      hz 的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/blogs/android/tools/.html" class="nav-link"><i class="undefined"></i>
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/blogs/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    hz
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>11</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>7</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      android 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/android/" class="nav-link"><i class="undefined"></i>
  android
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/源码分析/" class="nav-link"><i class="undefined"></i>
  源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/tool/" class="nav-link"><i class="undefined"></i>
  tool
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/systrace/" class="nav-link"><i class="undefined"></i>
  systrace
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      hz 的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/blogs/android/tools/.html" class="nav-link"><i class="undefined"></i>
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Android 日志相关</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>hz</span>
          
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Android 日志相关</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>hz</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2025/12/1</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>android</span><span class="tag-item" data-v-8a445198>tool</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="android-日志相关"><a href="#android-日志相关" class="header-anchor">#</a> Android 日志相关</h1> <p>在Android系统中，日志体系并非仅针对输入事件，而是从<strong>系统层级</strong>和<strong>功能分类</strong>两个维度划分，同时输入事件相关日志会归属到特定日志类别中。</p> <h2 id="一、android官方定义的日志级别-按优先级"><a href="#一、android官方定义的日志级别-按优先级" class="header-anchor">#</a> 一、Android官方定义的日志级别（按优先级）</h2> <p>Android的<code>Log</code>类定义了<strong>6种日志级别</strong>（从低到高），用于标记日志的重要程度，开发中通过<code>Log.xxx()</code>方法输出，系统会根据级别过滤日志：</p> <ol><li><strong>Verbose（V）</strong>：最详细的日志，用于调试过程中的临时信息，优先级最低，如打印变量值、方法执行流程。</li> <li><strong>Debug（D）</strong>：调试日志，用于开发阶段的调试信息，发布时通常会关闭，如打印接口请求参数、方法调用结果。</li> <li><strong>Info（I）</strong>：普通信息日志，用于记录应用的正常运行状态，如应用启动完成、初始化成功等关键节点。</li> <li><strong>Warning（W）</strong>：警告日志，用于记录潜在的问题（不会导致程序崩溃），如参数不合法、资源使用不当等。</li> <li><strong>Error（E）</strong>：错误日志，用于记录程序运行中的错误（可能导致功能异常），如空指针异常、IO错误等。</li> <li><strong>Assert（A）</strong>：断言日志，用于记录严重错误（会直接导致应用崩溃），通常用于调试阶段验证条件是否成立，发布版本中一般不使用。</li></ol> <h2 id="二、按系统模块-功能的日志分类-含输入事件"><a href="#二、按系统模块-功能的日志分类-含输入事件" class="header-anchor">#</a> 二、按系统模块/功能的日志分类（含输入事件）</h2> <p>Android系统底层和框架层会按<strong>功能模块</strong>输出日志，输入事件相关日志属于其中特定类别，核心模块分类如下：</p> <ol><li><strong>输入事件日志</strong>
输入事件（触摸、按键、传感器等）的日志主要由<strong>InputManagerService（IMS）</strong> 和底层输入子系统输出，归属到：
<ul><li><strong>事件原始日志</strong>：由<code>/dev/input</code>设备节点输出，记录原始输入事件（如触摸坐标、按键码），可通过<code>getevent</code>命令查看。</li> <li><strong>框架层输入日志</strong>：在<code>frameworks/base/services/core/java/com/android/server/input/InputManagerService.java</code>中，通过<code>Log.d/I/W</code>输出输入事件的分发、处理日志，标签通常为<code>InputManager</code>或<code>InputDispatcher</code>。</li> <li><strong>按键/触摸事件日志</strong>：系统会用<code>KeyEvent</code>/<code>MotionEvent</code>相关标签记录事件传递，如Activity的事件分发日志会标记为<code>ViewRootImpl</code>。</li></ul></li> <li><strong>系统服务日志</strong>
如ActivityManager（AM）、PackageManager（PM）、WindowManager（WM）等核心服务的日志，标签通常为<code>ActivityManager</code>、<code>PackageManager</code>，记录应用启动、组件生命周期、窗口管理等关键流程。</li> <li><strong>应用日志</strong>
开发者在应用中通过<code>Log</code>类输出的自定义日志，标签由开发者指定（如<code>MainActivity</code>、<code>NetworkUtil</code>），包含业务逻辑、调试信息等。</li> <li><strong>内核日志（dmesg）</strong>
由Linux内核输出，记录硬件驱动、内核初始化、进程调度等底层信息，可通过<code>dmesg</code>命令查看，用于调试系统底层问题（如硬件适配、内核崩溃）。</li> <li><strong>崩溃日志（Tombstone）</strong>
应用崩溃时系统生成的详细日志，包含堆栈信息、进程状态等，存储在<code>/data/tombstones/</code>目录，用于分析ANR、Crash原因。</li> <li><strong>Radio日志</strong>
与通信相关的日志，记录手机信号、通话、移动网络（2G/3G/4G/5G）、WiFi、蓝牙等模块的运行状态，标签通常为<code>Radio</code>、<code>Telephony</code>。</li> <li><strong>GPU/图形日志</strong>
记录SurfaceFlinger、OpenGL ES、渲染管线的日志，标签如<code>SurfaceFlinger</code>、<code>EGL</code>，用于调试UI渲染、卡顿问题。</li></ol> <h2 id="三、android核心日志工具与日志输出位置"><a href="#三、android核心日志工具与日志输出位置" class="header-anchor">#</a> 三、Android核心日志工具与日志输出位置</h2> <ol><li><strong>logcat</strong>：最常用的日志工具，可查看应用和框架层的日志，支持按级别、标签、进程过滤（如<code>logcat -s InputManager</code>仅查看输入事件日志）。</li> <li><strong>dmesg</strong>：查看内核日志。</li> <li><strong>systrace</strong>：整合了系统各模块的日志（含输入事件、CPU调度、UI渲染），用于分析性能问题。</li> <li><strong>日志存储</strong>：
<ul><li>应用/框架日志：实时输出到内存，可通过logcat实时查看，也可通过<code>logcat -d &gt; /sdcard/log.txt</code>保存到文件。</li> <li>内核日志：存储在<code>/proc/kmsg</code>。</li> <li>崩溃日志：存储在<code>/data/tombstones/</code>（需root权限）。</li></ul></li></ol> <h2 id="面试回答思路"><a href="#面试回答思路" class="header-anchor">#</a> 面试回答思路</h2> <p>可按“<strong>日志级别→功能分类（重点讲输入事件日志）→核心工具</strong>”的逻辑组织语言，例如：
“Android的日志主要分为两类维度：一是官方定义的日志级别，二是按系统功能模块的分类。</p> <p>首先，按优先级划分的日志级别有6种，从低到高是Verbose、Debug、Info、Warning、Error、Assert，分别用于调试、信息记录、错误提示等场景。</p> <p>其次，按功能模块分类的话，核心包括输入事件日志、系统服务日志、应用日志、内核日志等。其中输入事件日志比较特殊，底层由InputManagerService负责，会记录触摸、按键的原始事件和分发流程，可通过logcat过滤InputManager标签查看；而应用日志是开发者自定义的，内核日志则用于调试底层硬件问题。</p> <p>最后，查看这些日志的核心工具是logcat，针对输入事件还可以用getevent命令看原始事件，分析性能问题则用systrace整合日志。”</p> <h3 id="加分点"><a href="#加分点" class="header-anchor">#</a> 加分点</h3> <p>可补充“输入事件日志的调试场景”，比如当触摸无响应时，可通过<code>logcat -s InputDispatcher</code>查看事件是否被正确分发，或用<code>getevent</code>验证硬件输入是否正常，体现实际应用经验。</p> <p>以下是Android输入事件日志调试的常用命令清单，涵盖<strong>原始事件查看、框架层日志过滤、系统状态分析</strong>等场景，面试或开发中可直接使用：</p> <p>##Android 输入事件日志调试的常用命令清单</p> <h3 id="一、查看原始输入事件-底层硬件事件"><a href="#一、查看原始输入事件-底层硬件事件" class="header-anchor">#</a> 一、查看原始输入事件（底层硬件事件）</h3> <ol><li><p><strong>实时监控所有输入设备事件</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>getevent
</code></pre></div><ul><li>输出示例：触摸事件会显示设备节点（如<code>/dev/input/event2</code>）、事件类型（<code>EV_ABS</code>为绝对坐标）、坐标值（<code>ABS_MT_POSITION_X/Y</code>）；按键事件显示<code>EV_KEY</code>和按键码（如<code>KEY_POWER</code>）。</li> <li>用途：验证硬件输入是否正常（如触摸屏是否上报坐标、按键是否被识别）。</li></ul></li> <li><p><strong>指定输入设备监控</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>getevent /dev/input/event2  <span class="token comment"># 仅监控event2设备（通常为触摸屏）</span>
</code></pre></div></li> <li><p><strong>显示事件名称（更易读）</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>getevent <span class="token parameter variable">-l</span>
</code></pre></div><ul><li>将十六进制事件类型/编码转为可读名称（如<code>ABS_MT_POSITION_X</code>代替<code>0035</code>）。</li></ul></li> <li><p><strong>查看输入设备列表及属性</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>getevent <span class="token parameter variable">-p</span>
</code></pre></div><ul><li>列出所有输入设备的支持事件类型、按键码范围、坐标范围（如触摸屏的X/Y轴最大值）。</li></ul></li></ol> <h3 id="二、过滤框架层输入事件日志-logcat"><a href="#二、过滤框架层输入事件日志-logcat" class="header-anchor">#</a> 二、过滤框架层输入事件日志（logcat）</h3> <ol><li><p><strong>监控InputManagerService相关日志</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>logcat <span class="token parameter variable">-s</span> InputManager:V InputDispatcher:V  <span class="token comment"># V表示Verbose级别，输出详细日志</span>
</code></pre></div><ul><li>标签说明：
<ul><li><code>InputManager</code>：输入事件的初始化、设备连接日志；</li> <li><code>InputDispatcher</code>：事件分发流程（如事件发给哪个窗口、是否被拦截）。</li></ul></li> <li>用途：分析事件从底层到应用的分发过程（如触摸无响应时排查是否分发失败）。</li></ul></li> <li><p><strong>监控View事件分发日志</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>logcat <span class="token parameter variable">-s</span> ViewRootImpl:V TouchEvent:V
</code></pre></div><ul><li><code>ViewRootImpl</code>：记录事件传递到Activity/View的过程；</li> <li>自定义标签<code>TouchEvent</code>：若应用中在onTouchEvent中添加<code>Log.d(&quot;TouchEvent&quot;, ...)</code>，可过滤应用内事件处理日志。</li></ul></li> <li><p><strong>监控按键事件</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>logcat <span class="token parameter variable">-s</span> KeyEvent:V
</code></pre></div><ul><li>查看按键事件的传递（如Home键、返回键的处理）。</li></ul></li> <li><p><strong>过滤ANR相关输入超时日志</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>logcat <span class="token parameter variable">-s</span> ActivityManager:I InputDispatcher:E
</code></pre></div><ul><li>当输入事件超时触发ANR时，<code>ActivityManager</code>会输出ANR原因，<code>InputDispatcher</code>会标记事件超时。</li></ul></li></ol> <h3 id="三、输入事件性能分析"><a href="#三、输入事件性能分析" class="header-anchor">#</a> 三、输入事件性能分析</h3> <ol><li><p><strong>使用systrace追踪输入事件流程</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>systrace.py input view <span class="token parameter variable">-o</span> input_trace.html  <span class="token comment"># 抓取输入和视图系统的trace</span>
</code></pre></div><ul><li>用Chrome打开<code>input_trace.html</code>，可查看：
<ul><li>输入事件从内核到InputDispatcher的耗时；</li> <li>事件从Dispatcher到应用View的处理耗时；</li> <li>识别卡顿环节（如事件处理超过16ms导致掉帧）。</li></ul></li></ul></li> <li><p><strong>查看输入事件队列状态</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>dumpsys input
</code></pre></div><ul><li>输出输入管理器的状态：
<ul><li>已连接的输入设备；</li> <li>事件队列长度（若队列堆积，说明事件处理阻塞）；</li> <li>当前焦点窗口（验证事件是否发给正确窗口）。</li></ul></li></ul></li></ol> <h3 id="四、其他辅助命令"><a href="#四、其他辅助命令" class="header-anchor">#</a> 四、其他辅助命令</h3> <ol><li><p><strong>模拟输入事件（调试用）</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>sendevent /dev/input/event2 <span class="token number">0</span> <span class="token number">3</span> <span class="token number">53</span> <span class="token number">100</span>  <span class="token comment"># 模拟X轴坐标100</span>
sendevent /dev/input/event2 <span class="token number">0</span> <span class="token number">3</span> <span class="token number">54</span> <span class="token number">200</span>  <span class="token comment"># 模拟Y轴坐标200</span>
input tap <span class="token number">100</span> <span class="token number">200</span>  <span class="token comment"># 模拟触摸点击（更易用）</span>
input keyevent KEYCODE_BACK  <span class="token comment"># 模拟返回键</span>
</code></pre></div><ul><li>用途：验证应用对输入事件的响应是否正常。</li></ul></li> <li><p><strong>查看当前焦点应用</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>dumpsys window <span class="token operator">|</span> <span class="token function">grep</span> mCurrentFocus
</code></pre></div><ul><li>确认输入事件应分发的目标应用，排查焦点错误导致的事件无响应。</li></ul></li></ol></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#一、android官方定义的日志级别-按优先级" class="sidebar-link reco-side-一、android官方定义的日志级别-按优先级" data-v-b57cc07c>一、Android官方定义的日志级别（按优先级）</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#二、按系统模块-功能的日志分类-含输入事件" class="sidebar-link reco-side-二、按系统模块-功能的日志分类-含输入事件" data-v-b57cc07c>二、按系统模块/功能的日志分类（含输入事件）</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#三、android核心日志工具与日志输出位置" class="sidebar-link reco-side-三、android核心日志工具与日志输出位置" data-v-b57cc07c>三、Android核心日志工具与日志输出位置</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#面试回答思路" class="sidebar-link reco-side-面试回答思路" data-v-b57cc07c>面试回答思路</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#加分点" class="sidebar-link reco-side-加分点" data-v-b57cc07c>加分点</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#一、查看原始输入事件-底层硬件事件" class="sidebar-link reco-side-一、查看原始输入事件-底层硬件事件" data-v-b57cc07c>一、查看原始输入事件（底层硬件事件）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#二、过滤框架层输入事件日志-logcat" class="sidebar-link reco-side-二、过滤框架层输入事件日志-logcat" data-v-b57cc07c>二、过滤框架层输入事件日志（logcat）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#三、输入事件性能分析" class="sidebar-link reco-side-三、输入事件性能分析" data-v-b57cc07c>三、输入事件性能分析</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/android/tools/android_log.html#四、其他辅助命令" class="sidebar-link reco-side-四、其他辅助命令" data-v-b57cc07c>四、其他辅助命令</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/blogs/assets/js/app.f7ee3a0f.js" defer></script><script src="/blogs/assets/js/7.1cee44e5.js" defer></script><script src="/blogs/assets/js/2.c6a51781.js" defer></script><script src="/blogs/assets/js/1.72bf0bc0.js" defer></script><script src="/blogs/assets/js/45.6bc3e5e4.js" defer></script>
  </body>
</html>
